{% extends "base.html" %}
{% block content %}
<div class="row">
    <div class="col-md-8">
        <h3 class="mb-3">Your Order</h3>
        <div class="list-group">
            {% for item in cart_items %}
            <div class="list-group-item d-flex justify-content-between align-items-center">
                <div>
                    <h6 class="mb-1">{{ item.product.name }}</h6>
                    <small>Qty: {{ item.qty }}</small>
                </div>
                <span>₹{{ item.subtotal }}</span>
            </div>
            {% endfor %}
        </div>
    </div>
    <div class="col-md-4">
        <div class="card p-3 shadow-sm">
            <h5 class="mb-3">Order Summary</h5>
            <ul class="list-group list-group-flush mb-3">
                <li class="list-group-item d-flex justify-content-between">
                    <span>Total Items</span>
                    <span>{{ cart_count }}</span>
                </li>
                <li class="list-group-item d-flex justify-content-between">
                    <span>Total Price</span>
                    <span>₹{{ total }}</span>
                </li>
            </ul>

            <!-- Razorpay Button -->
            <form id="payment-form">
                <script
                    src="https://checkout.razorpay.com/v1/checkout.js"
                    data-key="{{ razorpay_key }}"
                    data-amount="{{ amount }}"
                    data-currency="{{ currency }}"
                    data-order_id="{{ razorpay_order_id }}"
                    data-buttontext="Proceed to Pay"
                    data-name="MyStore"
                    data-description="Test Transaction"
                    data-theme.color="#ff7a18">
                </script>
                <input type="hidden" custom="Hidden Element" name="hidden">
            </form>
        </div>
    </div>
</div>
{% endblock %}
